(($,e)=>{"use strict";$.fn.ptb_wp_editor=function(c){var e,p;return $(this).is("textarea")||console.warn("Element must be a textarea"),"undefined"!=typeof tinyMCEPreInit&&"undefined"!=typeof QTags&&"undefined"!=typeof ap_vars||console.warn("ptb_wp_editor( $settings ); must be loaded"),$(this).is("textarea")&&"undefined"!=typeof tinyMCEPreInit&&"undefined"!=typeof QTags&&"undefined"!=typeof ap_vars?(e={mode:"html",mceInit:{theme:"modern",skin:"lightgray",language:"en",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["alignleft"],deep:!1,remove:"none"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["aligncenter"],deep:!1,remove:"none"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["alignright"],deep:!1,remove:"none"}],strikethrough:{inline:"del",deep:!0,split:!0}},relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:!1,paste_webkit_styles:"font-weight font-style color",preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",wpeditimage_disable_captions:!1,wpeditimage_html5_captions:!1,width:"100%",height:400,autoresize_min_height:400,autoresize_max_height:800,plugins:"wpautoresize,charmap,hr,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpeditimage,wpgallery,wplink,wpdialogs,wpview,image",content_css:ap_vars.includes_url+"css/dashicons.css?ver=4.5.2,"+ap_vars.includes_url+"js/mediaelement/mediaelementplayer.min.css?ver=4.5.2,"+ap_vars.includes_url+"js/mediaelement/wp-mediaelement.css?ver=4.5.2,"+ap_vars.includes_url+"js/tinymce/skins/lightgray/wp-content.css?ver=4.5.2",selector:"#apid",resize:"vertical",menubar:!1,wpautop:!0,indent:!1,toolbar1:"bold,italic,strikethrough,bullist,numlist,blockquote,hr,alignleft,aligncenter,alignright,link,unlink,wp_more,spellchecker,wp_adv",toolbar2:"formatselect,underline,alignjustify,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",toolbar4:"",tabfocus_elements:":prev,:next",body_class:"ptb_editor"}},p=new RegExp("apid","g"),tinyMCEPreInit.mceInit.apid&&(tinymce.settings=e.mceInit=tinyMCEPreInit.mceInit.apid),c=$.extend(!0,e,c),this.each(function(){var i,e,a,t,s,n,r,l,o,d;$(this).is("textarea")?(i=$(this).attr("id"),$.each(c.mceInit,function(e,t){"string"==$.type(t)&&(c.mceInit[e]=t.replace(p,i))}),c.mode="tmce"==c.mode?"tmce":"html",tinyMCEPreInit.mceInit[i]=c.mceInit,$(this).addClass("wp-editor-area").show(),$(e=this).closest(".wp-editor-wrap").length&&(t=$(this).closest(".wp-editor-wrap").parent(),$(this).closest(".wp-editor-wrap").before($(this).clone()),$(this).closest(".wp-editor-wrap").remove(),e=t.find('textarea[id="'+i+'"]')),a=$('<div id="wp-'+i+'-wrap" class="wp-core-ui wp-editor-wrap '+c.mode+'-active" />'),t=$('<div id="wp-'+i+'-editor-tools" class="wp-editor-tools hide-if-no-js" />'),s=$('<div class="wp-editor-tabs" />'),n=$('<a id="'+i+'-html" data-wp-editor-id="'+i+'" class="wp-switch-editor switch-html" onclick="switchto(this);">Text</a>'),r=$('<a id="'+i+'-tmce" data-wp-editor-id="'+i+'" class="wp-switch-editor switch-tmce" onclick="switchto(this);">Visual</a>'),l=$('<div id="wp-'+i+'-media-buttons" class="wp-media-buttons" />'),o=$('<a href="#" id="'+i+'-insert-media-button" class="button insert-media add_media" data-editor="'+i+'" title="Add Media"><span class="wp-media-buttons-icon"></span> Add Media</a>'),d=$('<div id="wp-'+i+'-editor-container" class="wp-editor-container" />'),o.appendTo(l),l.appendTo(t),n.appendTo(s),r.appendTo(s),s.appendTo(t),t.appendTo(a),d.appendTo(a),d.append($(e).clone().addClass("wp-editor-area")),$(e).before('<link rel="stylesheet" id="editor-buttons-css" href="'+ap_vars.includes_url+'css/editor.css" type="text/css" media="all">'),$(e).before(a),$(e).remove(),new QTags(i),QTags._buttonsInit(),$(a).on("click",".insert-media",function(e){$(a).find(".switch-html").trigger("click");var t=$(e.currentTarget),i=t.data("editor"),s={frame:"post",state:"insert",title:wp.media.view.l10n.addMedia,multiple:!0};e.preventDefault(),t.hasClass("gallery")&&(s.state="gallery",s.title=wp.media.view.l10n.createGalleryTitle),$(a).find(".switch-tmce").trigger("click"),t.blur(),wp.media.editor.open(i,s)})):console.warn("Element must be a textarea")})):this}})(jQuery,window);var switchto=function(e){"use strict";var t,i,s,a;return"undefined"!=typeof tinymce&&(a=(a=jQuery(e).attr("id").split("-"))[0],(t=jQuery("#wp-"+a+"-wrap")).removeClass("tmce-active html-active"),i=t.find(".mce-tinymce"),s=jQuery("#"+a),a=tinyMCE.get(a),jQuery(e).hasClass("switch-tmce")?(t.addClass("tmce-active"),i.show(),s.hide(),a&&a.setContent(s.val())):(t.addClass("html-active"),i.hide(),s.show(),a&&s.val(a.getContent()))),!1};