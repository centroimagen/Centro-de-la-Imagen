var PTB_MapInit=()=>{"use strict";var $=jQuery,e=$(".ptb_extra_map"),n=PTB.is_mobile(),o=new google.maps.Geocoder,t=[],i=function(e,a){o.geocode(e,function(e,o){"OK"===o&&e[0]&&a&&a(e)})};e.each(function(){!function(o,a){function l(a,e){if("text"===e.display){if(e.place.location){var o=e.place.location.lat||e.place.location[0],l=e.place.location.lng||e.place.location[1];e.place.location.lat=parseFloat(o),e.place.location.lng=parseFloat(l),o={location:e.place.location}}else{if(!e.place.place)return;o={place_id:e.place.place}}i(o,function(e){$(a).text(e[0].formatted_address)})}else{var t,p,c;(e.place.place||e.place.location)&&($(a).css("height",e.height).closest(".ptb_map").css("width",e.width+("%"===e.width_t?"%":"")),"ROADMAP"===(l=e.mapTypeId)?l=google.maps.MapTypeId.ROADMAP:"SATELLITE"===l?l=google.maps.MapTypeId.SATELLITE:"HYBRID"===l?l=google.maps.MapTypeId.HYBRID:"TERRAIN"===l&&(l=google.maps.MapTypeId.TERRAIN),n&&e.drag_m&&(e.drag=!1),t={center:new google.maps.LatLng(-34.397,150.644),zoom:e.zoom,mapTypeId:l,scrollwheel:!!e.scroll,draggable:!!e.drag},a=new google.maps.Map(a,t),o=e.info?e.info.replace(/(?:\r\n|\r|\n)/gi,"<br />"):"",(p=new google.maps.Marker({map:a,anchorPoint:new google.maps.Point(0,-29)})).setVisible(!1),e.place.location?(e.place.location.lat=e.place.location.lat?parseFloat(e.place.location.lat):parseFloat(e.place.location[0]),e.place.location.lng=e.place.location.lng?parseFloat(e.place.location.lng):parseFloat(e.place.location[1]),p.setPosition(e.place.location),a.setCenter(e.place.location),p.setVisible(!0)):e.place.place&&new google.maps.places.PlacesService(a).getDetails({placeId:e.place.place},(e,o)=>{if(o!==google.maps.places.PlacesServiceStatus.OK)return!1;a.setCenter(e.geometry.location),p.setIcon({url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(35,35)}),p.setPosition(e.geometry.location),e.geometry.viewport?a.fitBounds(e.geometry.viewport):a.setCenter(e.geometry.location),a.setZoom(t.zoom),p.setVisible(!0)}),o)&&((c=new google.maps.InfoWindow({content:o})).open(a,p),google.maps.event.addListener(p,"click",()=>{c.open(a,p)}))}}a.place?l(o,a):a.default&&(void 0===t[a.default]?i({address:a.default},function(e){e=e[0].geometry.location;t[a.default]={},t[a.default].lat=e.lat(),t[a.default].lng=e.lng(),a.place={},a.place.location=t[a.default],l(o,a)}):(a.place.location=t[a.default],l(o,a)))}(this,$(this).data("map"))})};((e,$)=>{"use strict";e.body.addEventListener("ptb_map_init",function(e){const o=e.detail.context;0<$(".ptb_extra_map",o).length&&("object"!=typeof google||"object"!=typeof google.maps||void 0===google.maps.places?("object"==typeof google&&null!==google&&"object"==typeof google.maps&&void 0===google.maps.places&&(google.maps=null),PTB.LoadAsync("//maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&callback=PTB_MapInit&language="+ptb.lng+"&key="+ptb.map_key,null,!1,function(){return"object"==typeof google&&"object"==typeof google.maps})):PTB_MapInit())})})(document,jQuery);