!function($){"use strict";const o='Video.'+$.SliderPro.namespace,t={initVideo(){this.on('update.'+o,this._videoOnUpdate.bind(this)).on('gotoSlideComplete.'+o,this._videoOnGotoSlideComplete.bind(this))},_videoOnUpdate(){const e=this;this.$slider.find('.sp-video').not('a, [data-video-init]').each(function(){var t=$(this);e._initVideo(t)}),this.$slider.find('a.sp-video').not('[data-video-preinit]').each(function(){var t=$(this);e._preinitVideo(t)})},_initVideo(e){const i=this;e.attr('data-video-init',!0).videoController(),e.on('videoPlay.'+o,function(){'stopAutoplay'===i.settings.playVideoAction&&void 0!==i.stopAutoplay&&(i.stopAutoplay(),i.settings.autoplay=!1);const t={type:'videoPlay',video:e};i.trigger(t),$.isFunction(i.settings.videoPlay)&&i.settings.videoPlay.call(i,t)}).on('videoPause.'+o,function(){'startAutoplay'===i.settings.pauseVideoAction&&void 0!==i.startAutoplay&&(i.startAutoplay(),i.settings.autoplay=!0);var t={type:'videoPause',video:e};i.trigger(t),$.isFunction(i.settings.videoPause)&&i.settings.videoPause.call(i,t)}).on('videoEnded.'+o,function(){'startAutoplay'===i.settings.endVideoAction&&void 0!==i.startAutoplay?(i.startAutoplay(),i.settings.autoplay=!0):'nextSlide'===i.settings.endVideoAction?i.nextSlide():'replayVideo'===i.settings.endVideoAction&&e.videoController('replay');var t={type:'videoEnd',video:e};i.trigger(t),$.isFunction(i.settings.videoEnd)&&i.settings.videoEnd.call(i,t)})},_preinitVideo(n){const p=this;n.attr('data-video-preinit',!0).on('click.'+o,function(t){var e,i,o,a,r,s;p.$slider.hasClass('sp-swiping')||(t.preventDefault(),t=n.attr('href'),r=n.children('img').attr('width'),s=n.children('img').attr('height'),-1!==t.indexOf('youtube')||-1!==t.indexOf('youtu.be')?e='youtube':-1!==t.indexOf('vimeo')&&(e='vimeo'),a=t.match('youtube'===e?/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/:/http:\/\/(www\.)?vimeo.com\/(\d+)/),i=a[2],o='youtube'===e?'https://www.youtube.com/embed/'+i+'?enablejsapi=1&wmode=opaque':'https://player.vimeo.com/video/'+i+'?api=1',void 0!==(a=t.split('?')[1])&&(a=a.split('&'),$.each(a,function(t,e){-1===e.indexOf(i)&&(o+='&'+e)})),e=$('<iframe></iframe>').attr({src:o,width:r,height:s,class:n.attr('class'),frameborder:0}).insertBefore(n),p._initVideo(e),e.videoController('play'),n.css('display','none'))})},_videoOnGotoSlideComplete(t){var e=this.$slides.find('.sp-slide').eq(t.previousIndex).find('.sp-video[data-video-init]');-1!==t.previousIndex&&0!==e.length&&('stopVideo'===this.settings.leaveVideoAction?e.videoController('stop'):'pauseVideo'===this.settings.leaveVideoAction?e.videoController('pause'):'removeVideo'===this.settings.leaveVideoAction&&(0!==e.siblings('a.sp-video').length?(e.siblings('a.sp-video').css('display',''),e.videoController('destroy'),e.remove()):e.videoController('stop'))),'playVideo'===this.settings.reachVideoAction&&(e=this.$slides.find('.sp-slide').eq(t.index).find('.sp-video[data-video-init]'),t=this.$slides.find('.sp-slide').eq(t.index).find('.sp-video[data-video-preinit]'),0!==e.length?e.videoController('play'):0!==t.length&&t.trigger('click.'+o))},destroyVideo(){this.$slider.find('.sp-video[ data-video-preinit ]').each(function(){$(this).removeAttr('data-video-preinit').off('click.'+o)}),this.$slider.find('.sp-video[ data-video-init ]').each(function(){$(this).removeAttr('data-video-init').off('Video').videoController('destroy')}),this.off('update.'+o+' gotoSlideComplete.'+o)},videoDefaults:{reachVideoAction:'none',leaveVideoAction:'pauseVideo',playVideoAction:'stopAutoplay',pauseVideoAction:'none',endVideoAction:'none',videoPlay(){},videoPause(){},videoEnd(){}}};$.SliderPro.addModule('Video',t);var e=!!window.navigator.userAgent.match(/(iPad|iPhone|iPod)/g),a=function(t,e){this.$video=$(t),this.options=e,this.settings={},this.player=null,this._init()};a.prototype={_init(){this.settings=$.extend({},this.defaults,this.options);var t,o=this,e=$.VideoController.players,a=this.$video.attr('id');for(t in e)if(void 0!==e[t]&&e[t].isType(this.$video)){this.player=new e[t](this.$video);break}null!==this.player&&$.each(['ready','start','play','pause','ended'],function(t,e){var i='video'+e.charAt(0).toUpperCase()+e.slice(1);o.player.on(e,function(){o.trigger({type:i,video:a}),$.isFunction(o.settings[i])&&o.settings[i].call(o,{type:i,video:a})})})},play(){1==e&&!1===this.player.isStarted()||'playing'===this.player.getState()||this.player.play()},stop(){1==e&&!1===this.player.isStarted()||'stopped'===this.player.getState()||this.player.stop()},pause(){1==e&&!1===this.player.isStarted()||'paused'===this.player.getState()||this.player.pause()},replay(){1==e&&!1===this.player.isStarted()||this.player.replay()},on(t,e){return this.$video.on(t,e)},off(t){return this.$video.off(t)},trigger(t){return this.$video.triggerHandler(t)},destroy(){!0===this.player.isStarted()&&this.stop(),this.player.off('ready start play pause ended'),this.$video.removeData('videoController')},defaults:{videoReady(){},videoStart(){},videoPlay(){},videoPause(){},videoEnded(){}}},$.VideoController={players:{},addPlayer(t,e){this.players[t]=e}},$.fn.videoController=function(e){var i=[].slice.call(arguments,1);return this.each(function(){var t;void 0===$(this).data('videoController')?(t=new a(this,e),$(this).data('videoController',t)):void 0!==e&&('function'==typeof(t=$(this).data('videoController'))[e]?t[e].apply(t,i):$.error(e+' does not exist in videoController.'))})}}(jQuery),function($){const a=function(t){this.$video=t,this.player=null,this.ready=!1,this.started=!1,this.state='',this.events=$({}),this._init()},i={youtubeAPIAdded:!(a.prototype={_init(){},play(){},pause(){},stop(){},replay(){},isType(){},isReady(){return this.ready},isStarted(){return this.started},getState(){return this.state},on(t,e){return this.events.on(t,e)},off(t){return this.events.off(t)},trigger(t){return this.events.triggerHandler(t)}}),youtubeVideos:[]},t=function(t){var e;this.init=!1,void 0!==(window.YT&&window.YT.Player)?a.call(this,t):(i.youtubeVideos.push({video:t,scope:this}),!1===i.youtubeAPIAdded&&(i.youtubeAPIAdded=!0,(t=document.createElement('script')).src="http://www.youtube.com/player_api",(e=document.getElementsByTagName('script')[0]).parentNode.insertBefore(t,e),window.onYouTubePlayerAPIReady=function(){$.each(i.youtubeVideos,function(t,e){a.call(e.scope,e.video)})}))},o=(t.prototype=new a,$.VideoController.addPlayer('YoutubeVideo',t.prototype.constructor=t),t.isType=function(t){if(t.is('iframe')){t=t.attr('src');if(-1!==t.indexOf('youtube.com')||-1!==t.indexOf('youtu.be'))return!0}return!1},t.prototype._init=function(){this.init=!0,this._setup()},t.prototype._setup=function(){var e=this;this.player=new YT.Player(this.$video[0],{events:{onReady(){e.trigger({type:'ready'}),e.ready=!0},onStateChange(t){switch(t.data){case YT.PlayerState.PLAYING:!1===e.started&&(e.started=!0,e.trigger({type:'start'})),e.state='playing',e.trigger({type:'play'});break;case YT.PlayerState.PAUSED:e.state='paused',e.trigger({type:'pause'});break;case YT.PlayerState.ENDED:e.state='ended',e.trigger({type:'ended'});break}}}})},t.prototype.play=function(){var t,e=this;!0===this.ready?this.player.playVideo():t=setInterval(function(){!0===e.ready&&(clearInterval(t),e.player.playVideo())},100)},t.prototype.pause=function(){!0===isIOS?this.stop():this.player.pauseVideo()},t.prototype.stop=function(){this.player.seekTo(1),this.player.stopVideo(),this.state='stopped'},t.prototype.replay=function(){this.player.seekTo(1),this.player.playVideo()},{vimeoAPIAdded:!(t.prototype.on=function(t,e){var i,o=this;!0===this.init?a.prototype.on.call(this,t,e):i=setInterval(function(){!0===o.init&&(clearInterval(i),a.prototype.on.call(o,t,e))},100)}),vimeoVideos:[]}),e=function(t){var e,i;this.init=!1,void 0!==window.Froogaloop?a.call(this,t):(o.vimeoVideos.push({video:t,scope:this}),!1===o.vimeoAPIAdded&&(o.vimeoAPIAdded=!0,(t=document.createElement('script')).src="http://a.vimeocdn.com/js/froogaloop2.min.js",(e=document.getElementsByTagName('script')[0]).parentNode.insertBefore(t,e),i=setInterval(function(){void 0!==window.Froogaloop&&(clearInterval(i),$.each(o.vimeoVideos,function(t,e){a.call(e.scope,e.video)}))},100)))},r=(e.prototype=new a,$.VideoController.addPlayer('VimeoVideo',e.prototype.constructor=e),e.isType=function(t){return!(!t.is('iframe')||-1===t.attr('src').indexOf('vimeo.com'))},e.prototype._init=function(){this.init=!0,this._setup()},e.prototype._setup=function(){var t=this;this.player=$f(this.$video[0]),this.player.addEvent('ready',function(){t.ready=!0,t.trigger({type:'ready'}),t.player.addEvent('play',function(){!1===t.started&&(t.started=!0,t.trigger({type:'start'})),t.state='playing',t.trigger({type:'play'})}),t.player.addEvent('pause',function(){t.state='paused',t.trigger({type:'pause'})}),t.player.addEvent('finish',function(){t.state='ended',t.trigger({type:'ended'})})})},e.prototype.play=function(){var t,e=this;!0===this.ready?this.player.api('play'):t=setInterval(function(){!0===e.ready&&(clearInterval(t),e.player.api('play'))},100)},e.prototype.pause=function(){this.player.api('pause')},e.prototype.stop=function(){this.player.api('seekTo',0),this.player.api('pause'),this.state='stopped'},e.prototype.replay=function(){this.player.api('seekTo',0),this.player.api('play')},e.prototype.on=function(t,e){var i,o=this;!0===this.init?a.prototype.on.call(this,t,e):i=setInterval(function(){!0===o.init&&(clearInterval(i),a.prototype.on.call(o,t,e))},100)},function(t){a.call(this,t)}),s=(r.prototype=new a,$.VideoController.addPlayer('HTML5Video',r.prototype.constructor=r),r.isType=function(t){return!(!t.is('video')||!1!==t.hasClass('video-js')||!1!==t.hasClass('sublime'))},r.prototype._init=function(){var t=this;this.player=this.$video[0],this.ready=!0,this.player.addEventListener('play',function(){!1===t.started&&(t.started=!0,t.trigger({type:'start'})),t.state='playing',t.trigger({type:'play'})}),this.player.addEventListener('pause',function(){t.state='paused',t.trigger({type:'pause'})}),this.player.addEventListener('ended',function(){t.state='ended',t.trigger({type:'ended'})})},r.prototype.play=function(){this.player.play()},r.prototype.pause=function(){this.player.pause()},r.prototype.stop=function(){this.player.currentTime=0,this.player.pause(),this.state='stopped'},r.prototype.replay=function(){this.player.currentTime=0,this.player.play()},function(t){a.call(this,t)}),n=(s.prototype=new a,$.VideoController.addPlayer('VideoJSVideo',s.prototype.constructor=s),s.isType=function(t){return!(void 0===t.attr('data-videojs-id')&&!t.hasClass('video-js')||'undefined'==typeof videojs)},s.prototype._init=function(){var t=this,e=this.$video.hasClass('video-js')?this.$video.attr('id'):this.$video.attr('data-videojs-id');this.player=videojs(e),this.player.ready(function(){t.ready=!0,t.trigger({type:'ready'}),t.player.on('play',function(){!1===t.started&&(t.started=!0,t.trigger({type:'start'})),t.state='playing',t.trigger({type:'play'})}),t.player.on('pause',function(){t.state='paused',t.trigger({type:'pause'})}),t.player.on('ended',function(){t.state='ended',t.trigger({type:'ended'})})})},s.prototype.play=function(){this.player.play()},s.prototype.pause=function(){this.player.pause()},s.prototype.stop=function(){this.player.currentTime(0),this.player.pause(),this.state='stopped'},s.prototype.replay=function(){this.player.currentTime(0),this.player.play()},function(t){a.call(this,t)}),p=(n.prototype=new a,$.VideoController.addPlayer('SublimeVideo',n.prototype.constructor=n),n.isType=function(t){return!(!t.hasClass('sublime')||'undefined'==typeof sublime)},n.prototype._init=function(){const t=this;sublime.ready(function(){t.player=sublime.player(t.$video.attr('id')),t.ready=!0,t.trigger({type:'ready'}),t.player.on('play',function(){!1===t.started&&(t.started=!0,t.trigger({type:'start'})),t.state='playing',t.trigger({type:'play'})}),t.player.on('pause',function(){t.state='paused',t.trigger({type:'pause'})}),t.player.on('stop',function(){t.state='stopped',t.trigger({type:'stop'})}),t.player.on('end',function(){t.state='ended',t.trigger({type:'ended'})})})},n.prototype.play=function(){this.player.play()},n.prototype.pause=function(){this.player.pause()},n.prototype.stop=function(){this.player.stop()},n.prototype.replay=function(){this.player.stop(),this.player.play()},function(t){a.call(this,t)});p.prototype=new a,$.VideoController.addPlayer('JWPlayerVideo',p.prototype.constructor=p),p.isType=function(t){return!(void 0===t.attr('data-jwplayer-id')&&!t.hasClass('jwplayer')&&0===t.find("object[data*='jwplayer']").length||'undefined'==typeof jwplayer)},p.prototype._init=function(){var t,e=this;this.$video.hasClass('jwplayer')?t=this.$video.attr('id'):void 0!==this.$video.attr('data-jwplayer-id')?t=this.$video.attr('data-jwplayer-id'):0!==this.$video.find("object[data*='jwplayer']").length&&(t=this.$video.find('object').attr('id')),this.player=jwplayer(t),this.player.onReady(function(){e.ready=!0,e.trigger({type:'ready'}),e.player.onPlay(function(){!1===e.started&&(e.started=!0,e.trigger({type:'start'})),e.state='playing',e.trigger({type:'play'})}),e.player.onPause(function(){e.state='paused',e.trigger({type:'pause'})}),e.player.onComplete(function(){e.state='ended',e.trigger({type:'ended'})})})},p.prototype.play=function(){this.player.play(!0)},p.prototype.pause=function(){this.player.pause(!0)},p.prototype.stop=function(){this.player.stop(),this.state='stopped'},p.prototype.replay=function(){this.player.seek(0),this.player.play(!0)}}(jQuery);