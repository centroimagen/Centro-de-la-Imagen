!function(n,$){"use strict";const h='Thumbnails.'+$.SliderPro.namespace,i={$thumbnails:null,$thumbnailsContainer:null,thumbnails:null,selectedThumbnailIndex:0,thumbnailsSize:0,thumbnailsContainerSize:0,thumbnailsPosition:0,thumbnailsOrientation:null,thumbnailsPositionProperty:null,isThumbnailScroller:!1,initThumbnails(){const t=this;this.thumbnails=[],this.on('update.'+h,this._thumbnailsOnUpdate.bind(this)).on('sliderResize.'+h,this._thumbnailsOnResize.bind(this)).on('gotoSlide.'+h,function(i){t._gotoThumbnail(i.index)})},_thumbnailsOnUpdate(){if(0===this.$slider.find('.sp-thumbnail').length&&0===this.thumbnails.length)this.isThumbnailScroller=!1;else{const h=this;this.isThumbnailScroller=!0,null===this.$thumbnailsContainer&&(this.$thumbnailsContainer=$('<div class="sp-thumbnails-container"></div>').insertAfter(this.$slidesContainer)),null===this.$thumbnails&&(this.$thumbnails=this.$slider.find('.sp-thumbnails'),0===this.$thumbnails.length&&(this.$thumbnails=$('<div class="sp-thumbnails"></div>')),this.$thumbnails.appendTo(this.$thumbnailsContainer)),this.$slides.find('.sp-thumbnail').each(function(i){let t=$(this),s=t.parents('.sp-slide').index(),n=h.$thumbnails.find('.sp-thumbnail').length-1;0!==t.parent('a').length&&(t=t.parent('a')),n<s?t.appendTo(h.$thumbnails):t.insertBefore(h.$thumbnails.find('.sp-thumbnail').eq(s))});for(let i=this.thumbnails.length-1;0<=i;i--)0===this.$thumbnails.find('.sp-thumbnail[data-index="'+i+'"]').length&&(this.thumbnails[i].destroy(),this.thumbnails.splice(i,1));this.$thumbnails.find('.sp-thumbnail').each(function(i){let t=$(this);void 0===t.attr('data-init')?h._createThumbnail(t,i):h.thumbnails[i].setIndex(i)}),this.$thumbnailsContainer.removeClass('sp-top-thumbnails sp-bottom-thumbnails sp-left-thumbnails sp-right-thumbnails'),'top'===this.settings.thumbnailsPosition?(this.$thumbnailsContainer.addClass('sp-top-thumbnails'),this.thumbnailsOrientation='horizontal'):'bottom'===this.settings.thumbnailsPosition?(this.$thumbnailsContainer.addClass('sp-bottom-thumbnails'),this.thumbnailsOrientation='horizontal'):'left'===this.settings.thumbnailsPosition?(this.$thumbnailsContainer.addClass('sp-left-thumbnails'),this.thumbnailsOrientation='vertical'):'right'===this.settings.thumbnailsPosition&&(this.$thumbnailsContainer.addClass('sp-right-thumbnails'),this.thumbnailsOrientation='vertical'),!0===this.settings.thumbnailPointer?this.$thumbnailsContainer.addClass('sp-has-pointer'):this.$thumbnailsContainer.removeClass('sp-has-pointer'),this.selectedThumbnailIndex=this.selectedSlideIndex,this.$thumbnails.find('.sp-thumbnail-container').eq(this.selectedThumbnailIndex).addClass('sp-selected-thumbnail'),this.thumbnailsSize=0,$.each(this.thumbnails,function(i,t){t.setSize(h.settings.thumbnailWidth,h.settings.thumbnailHeight),h.thumbnailsSize+='horizontal'===h.thumbnailsOrientation?t.getSize().width:t.getSize().height}),'horizontal'===this.thumbnailsOrientation?(this.$thumbnails.css({width:this.thumbnailsSize,height:this.settings.thumbnailHeight}),this.$thumbnailsContainer.css('height',''),this.thumbnailsPositionProperty='left'):(this.$thumbnails.css({width:this.settings.thumbnailWidth,height:this.thumbnailsSize}),this.$thumbnailsContainer.css('width',''),this.thumbnailsPositionProperty='top'),this.trigger({type:'thumbnailsUpdate'}),$.isFunction(this.settings.thumbnailsUpdate)&&this.settings.thumbnailsUpdate.call(this,{type:'thumbnailsUpdate'})}},_createThumbnail(i,t){var s=this,i=new e(i,this.$thumbnails,t);i.on('thumbnailClick.'+h,function(i){s.gotoSlide(i.index)}),this.thumbnails.splice(t,0,i)},_thumbnailsOnResize(){var s,i;!1!==this.isThumbnailScroller&&('horizontal'===(s=this).thumbnailsOrientation?(this.thumbnailsContainerSize=Math.min(this.$slidesMask.width(),this.thumbnailsSize),this.$thumbnailsContainer.css('width',this.thumbnailsContainerSize),'fullWindow'===this.settings.forceSize&&(this.$slidesMask.css('height',this.$slidesMask.height()-this.$thumbnailsContainer.outerHeight(!0)),this.slideHeight=this.$slidesMask.height(),$.each(this.slides,function(i,t){t.setSize(s.slideWidth,s.slideHeight)}))):'vertical'===this.thumbnailsOrientation&&(this.$slidesMask.width()+this.$thumbnailsContainer.outerWidth(!0)>this.$slider.parent().width()&&('fullWidth'===this.settings.forceSize||'fullWindow'===this.settings.forceSize?this.$slider.css('max-width',$(n).width()-this.$thumbnailsContainer.outerWidth(!0)):this.$slider.css('max-width',this.$slider.parent().width()-this.$thumbnailsContainer.outerWidth(!0)),this.$slidesMask.css('width',this.$slider.width()),'horizontal'===this.settings.orientation?(this.visibleOffset=Math.round((this.$slider.width()-this.slideSize)/2),this.visibleSlidesSize=this.$slidesMask.width()):'vertical'===this.settings.orientation&&(this.slideWidth=this.$slider.width(),$.each(this.slides,function(i,t){t.setSize(s.slideWidth,s.slideHeight)})),this._resetSlidesPosition()),this.thumbnailsContainerSize=Math.min(this.$slidesMask.height(),this.thumbnailsSize),this.$thumbnailsContainer.css('height',this.thumbnailsContainerSize)),i=this.thumbnailsSize<=this.thumbnailsContainerSize||0===this.$thumbnails.find('.sp-selected-thumbnail').length?0:Math.max(-this.thumbnails[this.selectedThumbnailIndex].getPosition()[this.thumbnailsPositionProperty],this.thumbnailsContainerSize-this.thumbnailsSize),'top'===this.settings.thumbnailsPosition?this.$slider.css({paddingTop:this.$thumbnailsContainer.outerHeight(!0),paddingLeft:'',paddingRight:''}):'bottom'===this.settings.thumbnailsPosition?this.$slider.css({paddingTop:'',paddingLeft:'',paddingRight:''}):'left'===this.settings.thumbnailsPosition?this.$slider.css({paddingTop:'',paddingLeft:this.$thumbnailsContainer.outerWidth(!0),paddingRight:''}):'right'===this.settings.thumbnailsPosition&&this.$slider.css({paddingTop:'',paddingLeft:'',paddingRight:this.$thumbnailsContainer.outerWidth(!0)}),this._moveThumbnailsTo(i,!0))},_gotoThumbnail(i){var t,s,n;!1!==this.isThumbnailScroller&&void 0!==this.thumbnails[i]&&(n=this.selectedThumbnailIndex,t=this.thumbnailsPosition,this.selectedThumbnailIndex=i,this.$thumbnails.find('.sp-selected-thumbnail').removeClass('sp-selected-thumbnail'),this.$thumbnails.find('.sp-thumbnail-container').eq(this.selectedThumbnailIndex).addClass('sp-selected-thumbnail'),this.selectedThumbnailIndex>=n?(i=this.selectedThumbnailIndex===this.thumbnails.length-1?this.selectedThumbnailIndex:this.selectedThumbnailIndex+1,i=this.thumbnails[i],i='horizontal'===this.thumbnailsOrientation?i.getPosition().right:i.getPosition().bottom,(s=-this.thumbnailsPosition+this.thumbnailsContainerSize)<i&&(t=this.thumbnailsPosition-(i-s))):this.selectedThumbnailIndex<n&&(i=0===this.selectedThumbnailIndex?this.selectedThumbnailIndex:this.selectedThumbnailIndex-1,s=this.thumbnails[i],(n='horizontal'===this.thumbnailsOrientation?s.getPosition().left:s.getPosition().top)<-this.thumbnailsPosition&&(t=-n)),this._moveThumbnailsTo(t),this.trigger({type:'gotoThumbnail'}),$.isFunction(this.settings.gotoThumbnail)&&this.settings.gotoThumbnail.call(this,{type:'gotoThumbnail'}))},_moveThumbnailsTo(i,t,s){var n,h,e=this,a={};i!==this.thumbnailsPosition&&(this.thumbnailsPosition=i,h='horizontal'===this.thumbnailsOrientation?i:0,i='horizontal'===this.thumbnailsOrientation?0:i,a.transform='translate3d('+h+'px, '+i+'px, 0)',void 0!==t&&!0===t?n='':(this.$thumbnails.addClass('sp-animated'),n="transform 0.7s",this.$thumbnails.on(this.transitionEvent,function(i){i.target===i.currentTarget&&(e.$thumbnails.off(e.transitionEvent),e.$thumbnails.removeClass('sp-animated'),'function'==typeof s&&s(),e.trigger({type:'thumbnailsMoveComplete'}),$.isFunction(e.settings.thumbnailsMoveComplete)&&e.settings.thumbnailsMoveComplete.call(e,{type:'thumbnailsMoveComplete'}))})),a.transition=n,this.$thumbnails.css(a))},_stopThumbnailsMovement(){var i={},t=this.$thumbnails.css('transform'),s=-1!==t.indexOf('matrix3d')?'matrix3d':'matrix',t=t.replace(s,'').match(/-?[0-9\.]+/g),n='matrix3d'==s?parseInt(t[12],10):parseInt(t[4],10),s='matrix3d'==s?parseInt(t[13],10):parseInt(t[5],10);i.transform='translate3d('+n+'px, '+s+'px, 0)',i.transition='',this.$thumbnails.css(i).off(this.transitionEvent),this.thumbnailsPosition='horizontal'===this.thumbnailsOrientation?parseInt(t[4],10):parseInt(t[5],10),this.$thumbnails.removeClass('sp-animated')},destroyThumbnails(){if(this.off('update.'+h),!1!==this.isThumbnailScroller){const t=this;this.off('sliderResize.'+h+' gotoSlide.'+h),$(n).off('resize.'+this.uniqueId+'.'+h),this.$thumbnails.find('.sp-thumbnail').each(function(){var i=$(this),i=parseInt(i.attr('data-index'),10),i=t.thumbnails[i];i.off('thumbnailClick.'+h),i.destroy()}),this.thumbnails.length=0,this.$thumbnails.appendTo(this.$slider),this.$thumbnailsContainer.remove(),this.$slider.css({paddingTop:'',paddingLeft:'',paddingRight:''})}},thumbnailsDefaults:{thumbnailWidth:100,thumbnailHeight:80,thumbnailsPosition:'bottom',thumbnailPointer:!1,thumbnailsUpdate(){},gotoThumbnail(){},thumbnailsMoveComplete(){}}};var e=function(i,t,s){this.$thumbnail=i,this.$thumbnails=t,this.$thumbnailContainer=null,this.width=0,this.height=0,this.isImageLoaded=!1,this.setIndex(s),this._init()};e.prototype={_init(){var i=this;this.$thumbnail.attr('data-init',!0),this.$thumbnailContainer=$('<div class="sp-thumbnail-container"></div>').appendTo(this.$thumbnails),(0!==this.$thumbnail.parent('a').length?this.$thumbnail.parent('a'):this.$thumbnail).appendTo(this.$thumbnailContainer),this.$thumbnailContainer.on('click.'+h,function(){i.trigger({type:'thumbnailClick.'+h,index:i.index})})},setSize(i,t){this.width=i,this.height=t,this.$thumbnailContainer.css({width:this.width,height:this.height}),this.$thumbnail.is('img')&&void 0===this.$thumbnail.attr('data-src')&&this.resizeImage()},getSize(){return{width:this.$thumbnailContainer.outerWidth(!0),height:this.$thumbnailContainer.outerHeight(!0)}},getPosition(){return{left:this.$thumbnailContainer.position().left+parseInt(this.$thumbnailContainer.css('marginLeft'),10),right:this.$thumbnailContainer.position().left+parseInt(this.$thumbnailContainer.css('marginLeft'),10)+this.$thumbnailContainer.outerWidth(),top:this.$thumbnailContainer.position().top+parseInt(this.$thumbnailContainer.css('marginTop'),10),bottom:this.$thumbnailContainer.position().top+parseInt(this.$thumbnailContainer.css('marginTop'),10)+this.$thumbnailContainer.outerHeight()}},setIndex(i){this.index=i,this.$thumbnail.attr('data-index',this.index)},resizeImage(){var i=this;!1===this.isImageLoaded?SliderProUtils.checkImagesComplete(this.$thumbnailContainer,function(){i.isImageLoaded=!0,i.resizeImage()}):(this.$thumbnail=this.$thumbnailContainer.find('.sp-thumbnail'),this.$thumbnail.width()/this.$thumbnail.height()<=this.width/this.height?this.$thumbnail.css({width:'100%',height:'auto'}):this.$thumbnail.css({width:'auto',height:'100%'}),this.$thumbnail.css({marginLeft:.5*(this.$thumbnailContainer.width()-this.$thumbnail.width()),marginTop:.5*(this.$thumbnailContainer.height()-this.$thumbnail.height())}))},destroy(){this.$thumbnailContainer.off('click.'+h),this.$thumbnail.removeAttr('data-init data-index'),(0!==this.$thumbnail.parent('a').length?this.$thumbnail.parent('a'):this.$thumbnail).insertBefore(this.$thumbnailContainer),this.$thumbnailContainer.remove()},on(i,t){return this.$thumbnailContainer.on(i,t)},off(i){return this.$thumbnailContainer.off(i)},trigger(i){return this.$thumbnailContainer.triggerHandler(i)}},$.SliderPro.addModule('Thumbnails',i)}(window,jQuery);