(l=>{'use strict';const n=tbLocalScript.addons.timeline,a={language:n.lng,script_path:n.url+'timeline'},d=t=>{t.classList.remove('tf_lazy','tf_hidden')};l.on('builder_load_module_partial',(t,e)=>{if(!0!==e||t.classList.contains('module-timeline')){const s=l.selectWithParent('module-timeline',t),i=[];for(let t=s.length-1;-1<t;--t)s[t].classList.contains('layout-list')?l.loadCss(n.url+'style','tb_timeline',n.ver).then(()=>{d(s[t])}):s[t].classList.contains('layout-graph')&&void 0===s[t].tfClass('tl-storyslider')[0]?i.push(s[t]):d(s[t]);0<i.length&&Promise.all([l.loadCss(n.url+'timeline/css/timeline.min',null,'3.6.3'),l.loadJs(n.url+'timeline/js/timeline.min',!!window.TL,'3.6.3')]).then(()=>{for(let t=i.length-1;-1<t;--t){const e=i[t].tfClass('storyjs-embed')[0],s=(a.start_at_end=e.dataset.startEnd,a.embed_id=e.id,a.id='story-js-'+e.dataset.id,new TL.Timeline(a.id,{events:JSON.parse(e.dataset.events)},a));d(i[t]),setTimeout(()=>{s.updateDisplay()},1300)}})}})})(Themify);